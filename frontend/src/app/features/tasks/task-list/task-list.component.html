<div class="task-list">
  <h2>Tasks</h2>

  <!-- Filters -->
  <div class="filters">
    <label for="status">Status:</label>
    <select id="status" #statusSelect (change)="onFilterChange(statusSelect.value)">
      <option value="">All</option>
      <option value="TODO">To Do</option>
      <option value="IN_PROGRESS">In Progress</option>
      <option value="DONE">Done</option>
    </select>
  </div>

  <!-- Loading / Error -->
  <app-loading-spinner *ngIf="loading()"></app-loading-spinner>
  <div *ngIf="error()" class="error">{{ error() }}</div>

  <!-- Table -->
  <table class="task-table" *ngIf="!loading() && !error() && tasks().length">
    <thead>
      <tr>
        <th>Title</th>
        <th>Status</th>
        <th>Priority</th>
        <th>Assignee</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let task of tasks()">
        <td>{{ task.title }}</td>
        <td>
          <span class="status" [ngClass]="task.status">
            {{ task.status }}
          </span>
        </td>
        <td>{{ task.priority }}</td>
        <td>{{ task.assignee || '-' }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Empty state -->
  <div class="empty" *ngIf="!loading() && !error() && !tasks().length">
    No tasks found.
  </div>
</div>